<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Greatness Store</title>
  <link rel="shortcut icon" href="assets/images/GLOGO.png" type="image/x-icon">

  <!-- Normalize File -->
  <link rel="stylesheet" href="./assets/Css/normalize.css" />
  <!-- Css File-->
  <link rel="stylesheet" href="./assets/Css/about.css" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="./assets/Css/all.min.css" />
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;500;700&display=swap" rel="stylesheet" />
</head>

<body>
  <!-- Start Header -->
<!-- Start Header -->
    <div class="header">
        <div class="container">
            <a href="/" class="logo">Greatness </a>

            <!--search box-->
            <div class="searchbox">

                <input type="text" placeholder="Search Product ...">
                <button><i class="fas fa-search"></i></button>

            </div>


            <div class="nav">
                <!-- JS add Class: show -->
                <ul class="nav-links" id="nav-links">
                    <!-- JS add Class: active -->
                    <li><a href="./">Home</a></li>
                    <li><a href="./shop">Shop</a></li>
                    <li><a href="./about">About</a></li>
                    <li><a href="./contact.html">Contact</a></li>

                    <li> <a href="./favorite.html">
                            <div class="heart-icon"><i class="fa-regular fa-heart"></i></div>
                        </a></li>

                    <div class="user-session" id="user-session">
                        <a href="/auth/login"><button class="btn">Login </button></a>
                    </div>
                </ul>

            </div>
        </div>
    </div>





    <!--- خاصية تظبيط الدخول اليوزر -->
    <script>

        async function checkSession() {
            try {
                const response = await fetch("/session");
                const data = await response.json();

                if (data.user) {
                    document.getElementById("user-session").innerHTML = `
          <div class="user-menu" id="user-menu" style="display: none;">
              <button class="dropdown-btn" onclick="toggleDropdown()">
                Welcome, <span id="username"></span> ▼
              </button>
              <div class="dropdown-content" id="dropdown-content">
                <a href="#" onclick="logout()">Logout</a>
              </div>
            </div>`;
                    document.getElementById("user-menu").style.display = "inline-block";
                    document.getElementById("username").innerText = data.user.first_name;
                }
            } catch (error) {
                console.error("Error fetching session data:", error);
            }
        }

        function toggleDropdown() {
            document.getElementById("dropdown-content").classList.toggle("show");
        }

        function logout() {
            fetch("/logout", { method: "GET" }).then(() => {
                window.location.reload();
            });
        }

        window.onclick = function (event) {
            if (!event.target.matches('.dropdown-btn')) {
                const dropdowns = document.getElementsByClassName("dropdown-content");
                for (let i = 0; i < dropdowns.length; i++) {
                    let openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }

        checkSession();


        // async function checkSession() {
        //   try {
        //     const response = await fetch("/session");
        //     const data = await response.json();

        //     if (data.user) {
        //       console.log("User is logged in:", data.user);
        //       document.getElementById("user-session").innerHTML = `
        //        <div class="user-menu" id="user-menu" style="display: none;">
        //           <button class="dropdown-btn" onclick="toggleDropdown()">
        //               Welcome, <span id="username"></span> ▼
        //           </button>
        //           <div class="dropdown-content" id="dropdown-content">
        //               <a href="#" onclick="logout()">Logout</a>
        //           </div>
        //       </div>
        //       `;
        //     }
        //     console.log("Session data:", data);
        //   } catch (error) {
        //     console.error("Error fetching session data:", error);
        //   }
        // }

        // function logout() {
        //   fetch("/logout", { method: "GET" }).then(() => {
        //     window.location.reload();
        //   });
        // }

        // checkSession();
    </script>


 
  <!-- Start about-header -->
  <div class="about-header">
    <div class="content">
      <h1>#Stay The Best</h1>
      <h3>Up to <span>70% Off</span>-All T-Shirts & Accessories</h3>
    </div>
  </div>
  <!-- End about-header -->

  <!-- Start About -->
  <div class="about">
    <div class="container">
      <div class="img-container">
        <img src="./assets/images/about/a6.jpg" alt="" />
      </div>
      <div class="content">
        <h3>Who We Are?</h3>
        <p>
          Greatness is a men's clothing brand that combines elegance and high quality,
          designed to reflect confidence and strength in every detail.
          We offer a variety of casual and classic clothes with a modern touch to suit all tastes.
          We rely on the finest materials to ensure comfort and durability,
          with designs that reflect the style of the modern man. At Greatness,
          we believe that elegance begins with the details,
          so we care about every piece to be a combination of luxury and simplicity.
          Choose Greatness, and live up to the name! </p>
      </div>
    </div>
  </div>
  <!-- End About -->

  <!-- Start servers -->
  <div class="servers">
    <div class="container">
      <div class="box">
        <div class="img-container">
          <img src="./assets/images/features/f1.png" alt="" />
        </div>
        <span class="text">Free Shipping</span>
      </div>

      <div class="box">
        <div class="img-container">
          <img src="./assets/images/features/f2.png" alt="" />
        </div>
        <span class="text">Online Order</span>
      </div>

      <div class="box">
        <div class="img-container">
          <img src="./assets/images/features/f3.png" alt="" />
        </div>
        <span class="text">Save Money</span>
      </div>

      <div class="box">
        <div class="img-container">
          <img src="./assets/images/features/f4.png" alt="" />
        </div>
        <span class="text">Promations</span>
      </div>

      <div class="box">
        <div class="img-container">
          <img src="./assets/images/features/f5.png" alt="" />
        </div>
        <span class="text">Happy Sell</span>
      </div>

      <div class="box">
        <div class="img-container">
          <img src="./assets/images/features/f6.png" alt="" />
        </div>
        <span class="text">Support</span>
      </div>
    </div>
  </div>
  <!-- End servers -->
  <!-- Start footer -->
  <div class="footer">
    <div class="container">
      <div class="contact">
        <a href="" class="logo">Greatness</a>
        <div class="info">
          <h4>Contact</h4>
          <p><span>Address:</span> Sgarqia - Zagazig </p>
          <p><span>Phone:</span> +02 01091686821</p>
        </div>
        <div class="follow">
          <i class="fa-brands fa-facebook-f"></i>
          <i class="fa-brands fa-twitter"></i>
          <i class="fa-brands fa-instagram"></i>
          <i class="fa-brands fa-youtube"></i>
        </div>
      </div>

      <div class="box">
        <h4>About</h4>
        <ul class="menu">
          <li><a href="">About Us</a></li>
          <li><a href="">Delivery Info</a></li>
          <li><a href="">Privacy Policy</a></li>
          <li><a href="">Terms & Conditions</a></li>
          <li><a href="">Contact Us</a></li>
        </ul>
      </div>

      <div class="box">
        <h4>My Account</h4>
        <ul>
          <li><a href="">Sign In</a></li>
          <li><a href="">View cart</a></li>
          <li><a href="">My Wishlist</a></li>
          <li><a href="">Track My Order</a></li>
          <li><a href="">Help</a></li>
        </ul>
      </div>
    </div>

  </div>
  <!-- End footer -->

  <a href="#">
    <div class="Up">
      <i class="fa-solid  fa-angle-up"></i>
    </div>
  </a>

  <script src="./assets/Js/all.min.js"></script>
  <script src="./assets/Js/app.js"></script>
</body>

</html>